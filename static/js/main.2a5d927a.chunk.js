(this["webpackJsonpcovid-grocery-frontend"]=this["webpackJsonpcovid-grocery-frontend"]||[]).push([[0],{207:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),s=(a(89),a(7)),i=a(8),c=a(10),u=a(9),m=a(47),d=a(14),h=(a(90),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{paddingTop:"5%",textAlign:"left"}},r.a.createElement("hr",null),r.a.createElement("h2",{style:{fontSize:"250%"}},"faq"),r.a.createElement("h4",{style:{fontSize:"150%"}},"how does this whole thing work?"),r.a.createElement("p",null,"You can search for any grocery stores by their names, city, province or even postal codes. Through this application, you can find information such as current line length at a grocery store or if they have dedicated senior hours."),r.a.createElement("br",null),r.a.createElement("h4",{style:{fontSize:"150%"}},"how do we get the line length information?"),r.a.createElement("p",null,'We ask users like yourself to submit this information. When you are at a grocery store waiting in line or have left the grocery store, we ask you to find the store on this website and then submit the "busy" level on the store\'s page.'),r.a.createElement("br",null),r.a.createElement("h4",{style:{fontSize:"150%"}},"the information regarding senior hours is wrong"),r.a.createElement("p",null,"If you find any information in regards to senior hours that has changed, please update on the store's page."),r.a.createElement("br",null),r.a.createElement("h4",{style:{fontSize:"150%"}},"how can you help?"),r.a.createElement("p",null,'You can help a lot by just submitting the "busy" level of the grocery store you are visiting or have visited on the store\'s page. You can also change the "senior hours" information if it is incorrect on the store\'s page. Aside from that, hosting all of this costs money so it would be nice if you could donate ',r.a.createElement("a",{target:"_blank",href:"https://www.buymeacoffee.com/NUxSuRm"},"here"),". All the proceeds will be going to maintaining this website and any leftover money will be donated to help people in this crisis."),r.a.createElement("br",null),r.a.createElement("h4",{style:{fontSize:"150%"}},"creator"),r.a.createElement("p",null,r.a.createElement("a",{href:"sid-hant.github.io"},"sidhant vashist")),r.a.createElement("br",null))}}]),a}(n.Component)),p=a(79),b=a(3),v=a(15),E=a.n(v),f=a(46),g=a(80),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={chartData:{labels:["12 AM","1","2","3 AM","4","5","6 AM","","","9 AM","","","12 PM","","","3 PM","","","6 PM","","","9 PM","",""],datasets:[{label:"Busy Level",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({chartData:{labels:["12 AM","","","3 AM","","","6 AM","","","9 AM","","","12 PM","","","3 PM","","","6 PM","","","9 PM","",""],datasets:[{label:"",backgroundColor:"rgba(220,220,220)",borderColor:"rgba(192,192,192)",borderWidth:1,hoverBackgroundColor:"rgba(211,211,211)",hoverBorderColor:"rgba(169,169,169)",data:this.props.data}]}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"table-responsive container"},r.a.createElement(g.a,{data:this.state.chartData,options:{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{display:!1,scaleLabel:{display:!1,labelString:"Busy Level"},ticks:{min:0,max:3,stepSize:1,callback:function(e,t,a){switch(e){case 0:case 1:case 2:case 3:return""}}},gridLines:{display:!1}}]}}}))}}]),a}(n.Component),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getFormattedTime=function(e){var t=parseInt(e.substring(0,2)),a=t>11?" PM":" AM";return(t+11)%12+1+":"+e.substring(2)+a},n.onClick=function(e){e.preventDefault(),n.setState({selectedId:e.target.getAttribute("name")},(function(){E.a.get("https://covid-grocery-api.herokuapp.com/api/v1/store/".concat(n.state.selectedId)).then((function(e){var t=e.data;if(200===t.code){var a=t.store;n.setState({crowdLevelSubmitted:!1,showSeniorForm:!1,name:a.name,address:a.formatted_address,phone_number:a.formatted_phone_number,weekSchedule:a.opening_hours.weekday_text,url:a.url,website:a.website,seniorHoursExist:a.seniorHours.exists,seniorHours:a.seniorHours.hours,formSeniorSubmitted:!1})}})),E.a.get("https://covid-grocery-api.herokuapp.com/api/v1/store/".concat(n.state.selectedId,"/line-status")).then((function(e){var t=e.data;if(200===t.code){var a=t.busyLevel;n.setState({todayLineData:a})}}))}))},n.handleChange=function(e){n.setState({historicDay:e.target.value},(function(){null!==n.historicDay&&E.a.get("https://covid-grocery-api.herokuapp.com/api/v1/store/".concat(n.state.selectedId,"/line-status/").concat(n.state.historicDay)).then((function(e){var t=e.data;if(200===t.code){var a=t.day.busyLevel;n.setState({historicLineData:a})}}))}))},n.handleCrowdLevelChange=function(e){n.setState({crowdLevelOptionSelect:e.target.value})},n.onSubmit=function(e){e.preventDefault();var t=n.state.crowdLevelOptionSelect;E.a.post("https://covid-grocery-api.herokuapp.com/api/v1/store/".concat(n.state.selectedId,"/line-status"),{busy:t}).then((function(){return n.setState({crowdLevelSubmitted:!0})}))},n.showSeniorForm=function(e){e.preventDefault(),n.setState({showSeniorForm:!n.state.showSeniorForm}),!1===n.state.showSeniorForm&&n.setState({formSeniorHoursExist:!1})},n.seniorFormExistsChangeHandle=function(e){e.preventDefault(),"0"==e.target.value?n.setState({formSeniorHoursExist:!1}):"1"==e.target.value&&n.setState({formSeniorHoursExist:!0})},n.handleChangeForSeniorHoursForm=function(e){var t=e.target.name.split("_"),a=n.state.formSeniorHours;a[t[0]][t[1]]=e.target.value,n.setState({formSeniorHours:a})},n.submitSeniorHoursInfo=function(e){e.preventDefault();var t={exists:n.state.formSeniorHoursExist,hours:n.state.formSeniorHours};console.log(t),E.a.post("https://covid-grocery-api.herokuapp.com/api/v1/store/".concat(n.state.selectedId,"/senior-hours"),t).then((function(e){n.setState({showSeniorForm:!n.state.showSeniorForm,formSeniorSubmitted:!0})}))},n.onClick=n.onClick.bind(Object(b.a)(n)),n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n.handleCrowdLevelChange=n.handleCrowdLevelChange.bind(Object(b.a)(n)),n.showSeniorForm=n.showSeniorForm.bind(Object(b.a)(n)),n.seniorFormExistsChangeHandle=n.seniorFormExistsChangeHandle.bind(Object(b.a)(n)),n.handleChangeForSeniorHoursForm=n.handleChangeForSeniorHoursForm.bind(Object(b.a)(n)),n.submitSeniorHoursInfo=n.submitSeniorHoursInfo.bind(Object(b.a)(n)),n.state={selectedId:"",name:"",address:"",phone_number:"",weekSchedule:[],url:"",website:"",seniorHoursExist:!1,seniorHours:"",todayLineData:[],historicLineData:[],historicDay:null,options:[{name:"Select",value:null},{name:"Sunday",value:0},{name:"Monday",value:1},{name:"Tuesday",value:2},{name:"Wednesday",value:3},{name:"Thursday",value:4},{name:"Friday",value:5},{name:"Saturday",value:6}],crowdLevelOptions:[{name:"Large Crowd",value:3},{name:"Moderate Crowd",value:2},{name:"Light Crowd",value:1},{name:"No Crowd/Closed",value:0}],crowdLevelOptionSelect:3,crowdLevelSubmitted:!1,showSeniorForm:!1,formSeniorHoursExist:!1,formSeniorHourOptions:[{name:"12 AM",value:"0000"},{name:"1 AM",value:"0100"},{name:"2 AM",value:"0200"},{name:"3 AM",value:"0300"},{name:"4 AM",value:"0400"},{name:"5 AM",value:"0500"},{name:"6 AM",value:"0600"},{name:"7 AM",value:"0700"},{name:"8 AM",value:"0800"},{name:"9 AM",value:"0900"},{name:"10 AM",value:"1000"},{name:"11 AM",value:"1100"},{name:"12 PM",value:"1200"},{name:"1 PM",value:"1300"},{name:"2 PM",value:"1400"},{name:"3 PM",value:"1500"},{name:"4 PM",value:"1600"},{name:"5 PM",value:"1700"},{name:"6 PM",value:"1800"},{name:"7 PM",value:"1900"},{name:"8 PM",value:"2000"},{name:"9 PM",value:"2100"},{name:"10 PM",value:"2200"},{name:"11 PM",value:"2300"}],formSeniorHours:{monday:{open:"0000",close:"0000"},tuesday:{open:"0000",close:"0000"},wednesday:{open:"0000",close:"0000"},thursday:{open:"0000",close:"0000"},friday:{open:"0000",close:"0000"},saturday:{open:"0000",close:"0000"},sunday:{open:"0000",close:"0000"}},formSeniorSubmitted:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row flex-column-reverse flex-md-row"},r.a.createElement("div",{className:"col-lg-4 col-lg-pull-8"},this.props.stores.map((function(t){return r.a.createElement(f.Link,{key:t.place_id,activeClass:"active",to:"storeDetailElement",spy:!0,smooth:!0,duration:500},r.a.createElement("div",{key:t.place_id,name:t.place_id,onClick:e.onClick,className:"container"},r.a.createElement("div",{name:t.place_id,className:"card mb-3",style:{borderWidth:"0.6px",borderRadius:"20px"}},r.a.createElement("div",{name:t.place_id,className:"card-body",style:{textAlign:"left"}},r.a.createElement("b",{name:t.place_id,style:{fontSize:"4vw%"}},t.name)," ",r.a.createElement("br",null),r.a.createElement("p",{name:t.place_id,style:{fontSize:"2vw%",marginBottom:"0px"}},t.formatted_address,r.a.createElement("br",null),r.a.createElement("span",{name:t.place_id,style:t.opening_hours.open_now?{color:"green"}:{color:"red"}},r.a.createElement("b",{name:t.place_id},t.opening_hours.open_now?"Open":"Closed")))))))}))),r.a.createElement("div",{className:"col-lg-8 col-lg-push-4"},r.a.createElement(f.Element,{name:"storeDetailElement"}),""!==this.state.selectedId?r.a.createElement("div",{className:"container",style:{paddingBottom:"5%"}},r.a.createElement("div",{className:"card border-secondary",style:{width:"100%",borderWidth:"0.6px",borderRadius:"20px"}},r.a.createElement("div",{className:"card-body",style:{textAlign:"left"}},r.a.createElement("h2",null,r.a.createElement("b",null,this.state.name)),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Please Tell Us How Busy It Is Right Now: ")," "),this.state.crowdLevelSubmitted?r.a.createElement("span",null,"Thank you for contributing"):r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("select",{onChange:this.handleCrowdLevelChange,className:"form-control"},this.state.crowdLevelOptions.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},"Submit")))),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Address: "),this.state.address),r.a.createElement("p",null,r.a.createElement("b",null,"Hours: "),r.a.createElement("br",null),this.state.weekSchedule.map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}))),r.a.createElement("p",null,r.a.createElement("b",null,"Phone: "),this.state.phone_number),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Dedicated Senior Hours: "),this.state.seniorHoursExist?r.a.createElement("b",{style:{color:"green"}},"Yes"):r.a.createElement("b",{style:{color:"red"}},"No")),this.state.seniorHoursExist?r.a.createElement("p",null,Object.keys(this.state.seniorHours).map((function(t,a){return r.a.createElement("span",{key:a},t.charAt(0).toUpperCase()+t.slice(1),": ",e.getFormattedTime(e.state.seniorHours[t].open)," - ",e.getFormattedTime(e.state.seniorHours[t].close),r.a.createElement("br",null))}))):r.a.createElement("span",null),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Current Daily Crowd Level: ")),r.a.createElement(y,{data:this.state.todayLineData}),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Historic Crowd Level: "),r.a.createElement("select",{onChange:this.handleChange,className:"form-control"},this.state.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))),r.a.createElement(y,{data:this.state.historicLineData}),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Website: "),r.a.createElement("a",{target:"_blank",href:this.state.website,style:{textDecoration:"none"}},this.state.website)),r.a.createElement("p",null,r.a.createElement("a",{href:this.state.url,target:"_blank",className:"btn btn-outline-secondary"},"Open Google Maps")),this.state.formSeniorSubmitted?r.a.createElement("span",null,"Thank you for contributing"):r.a.createElement("form",{onSubmit:this.showSeniorForm},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},"Submit Senior Hours Data")),this.state.showSeniorForm?r.a.createElement("form",{onSubmit:this.submitSeniorHoursInfo},r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Does This Store Have Dedicated Senior Hours?")),r.a.createElement("select",{className:"form-control",onChange:this.seniorFormExistsChangeHandle},r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Yes")),this.state.formSeniorHoursExist?r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("b",null,"Does This Store Have Dedicated Senior Hours?")),Object.keys(this.state.formSeniorHours).map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("b",null,t.charAt(0).toUpperCase()+t.slice(1)),r.a.createElement("br",null),"Open",r.a.createElement("select",{className:"form-control",onChange:e.handleChangeForSeniorHoursForm,name:t+"_open"},e.state.formSeniorHourOptions.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))),"Close",r.a.createElement("select",{className:"form-control",onChange:e.handleChangeForSeniorHoursForm,name:t+"_close"},e.state.formSeniorHourOptions.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))))}))):r.a.createElement("span",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},"Submit"))):r.a.createElement("span",null)))):r.a.createElement("div",{className:"container",style:{paddingBottom:"5%"}})))}}]),a}(n.Component),w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault();var t=n.state.searchTerm;t.length>0&&(n.setState({loadingMessage:"Loading..."}),E.a.get("https://covid-grocery-api.herokuapp.com/api/v1/stores/search?q=".concat(t)).then((function(e){var t=e.data.stores;n.setState({loadingMessage:""}),n.setState({result:t})})).catch((function(e){return n.setState({loadingMessage:"Please search keywords like your city, postal code or store name with your city name."})}))),n.setState({searchTerm:""})},n.onChange=function(e){return n.setState(Object(p.a)({},e.target.name,e.target.value))},n.onChange=n.onChange.bind(Object(b.a)(n)),n.onSubmit=n.onSubmit.bind(Object(b.a)(n)),n.state={searchTerm:"",result:[],loadingMessage:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",name:"searchTerm",className:"form-control",value:this.state.searchTerm,onChange:this.onChange,placeholder:"search for a store, city, postal code i.e 'l6v 3r5', 'brampton', 'food basics'"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},"Search")))),r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,this.state.loadingMessage),r.a.createElement(S,{key:1,stores:this.state.result})))}}]),a}(n.Component),C=(a(207),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{class:"alert alert-dark",role:"alert"},"\ud83d\udea8 Don't forget to submit the crowd level for the store you are visting. Also, please donate if you can ",r.a.createElement("a",{target:"_blank",href:"https://www.buymeacoffee.com/NUxSuRm"},"here")," to help keep this website up. \ud83d\udea8"),r.a.createElement("div",{className:"container"},r.a.createElement(m.b,{style:{color:"black"},to:"/",className:"nav-link"},r.a.createElement("h1",{style:{fontSize:"9vw",paddingTop:"5%",paddingBottom:"5%"}},"grocerline"))),r.a.createElement(w,null),r.a.createElement(h,null),r.a.createElement(d.a,null),r.a.createElement(d.a,null)))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a(210)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.2a5d927a.chunk.js.map